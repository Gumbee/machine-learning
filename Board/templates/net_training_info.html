{% extends "layout.html" %}
{% block title %}Neural Networks{% endblock %}

{% block breadcrumb %}
    <a href="/nets" class="breadcrumb">Neural Networks</a>
    <a href="/nets/{{net_id}}" class="breadcrumb">Network: {{ neural_net['network_info']['name'] }}</a>
    <a href="#" class="breadcrumb">Session: {{ session_id }}</a>
{% endblock %}


{% block content %}
<div>
    <span class="title">{{neural_net['network_info']['name']}}</span><span class="small-title">{{ net_id }}</span>
</div>
<div style="margin-top:20px;width: 100%;height: 500px;float:left;display: block;">
    <div class="ct-chart" id="chart1"></div>
</div>
{% endblock %}


{% block scripts %}
<script>
    var True = true;
    var False = false;
    var data = {{ neural_net|safe }};
    console.log(data);

    var values = data['training']['costs'];
    var x_axis = data['training']['entries'];

    document.addEventListener('DOMContentLoaded',function(){
        var options = {
            fullWidth: true,
            height: '300px',
            chartPadding: {
                right: 40,
                left: 0
            },
            axisX: {
                labelInterpolationFnc: function (value, index) {
                    return index % 10 === 0 ? value : null;
                },
                showGrid: false
            },
            axisY: {
                labelInterpolationFnc: function (value) {
                    return Math.round(value * 100) / 100;
                }
            }
        };

        new Chartist.Line('#chart1', {
            labels: x_axis,
            series: [
                        values
                    ]
        }, options);

    });


</script>
{% endblock %}